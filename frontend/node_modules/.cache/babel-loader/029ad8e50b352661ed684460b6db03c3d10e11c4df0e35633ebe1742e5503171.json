{"ast":null,"code":"/*=========================================================================================\r\n  File Name: app-menu.js\r\n  Description: Menu navigation, custom scrollbar, hover scroll bar, multilevel menu\r\n  initialization and manipulations\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Stack - Responsive Admin Theme\r\n  Author: Pixinvent\r\n  Author URL: hhttp://www.themeforest.net/user/pixinvent\r\n==========================================================================================*/\n(function (window, document, $) {\n  'use strict';\n\n  $.app = $.app || {};\n  var $body = $('body');\n  var $window = $(window);\n  var menuWrapper_el = $('div[data-menu=\"menu-wrapper\"]').html();\n  var menuWrapperClasses = $('div[data-menu=\"menu-wrapper\"]').attr('class');\n\n  // Main menu\n  $.app.menu = {\n    expanded: null,\n    collapsed: null,\n    hidden: null,\n    container: null,\n    horizontalMenu: false,\n    is_touch_device: function () {\n      var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n      var mq = function (query) {\n        return window.matchMedia(query).matches;\n      };\n      if ('ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch) {\n        return true;\n      }\n      // include the 'heartz' as a way to have a non matching MQ to help terminate the join\n      // https://git.io/vznFH\n      var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n      return mq(query);\n    },\n    manualScroller: {\n      obj: null,\n      init: function () {\n        var scroll_theme = $('.main-menu').hasClass('menu-dark') ? 'light' : 'dark';\n        if (!$.app.menu.is_touch_device()) {\n          this.obj = new PerfectScrollbar(\".main-menu-content\", {\n            suppressScrollX: true,\n            wheelPropagation: false\n          });\n        } else {\n          $(\".main-menu\").addClass(\"menu-native-scroll\");\n        }\n      },\n      update: function () {\n        if (this.obj) {\n          // Scroll to currently active menu on page load if data-scroll-to-active is true\n          if ($('.main-menu').data('scroll-to-active') === true) {\n            var activeEl, menu, activeElHeight;\n            activeEl = document.querySelector('.main-menu-content li.active');\n            if ($body.hasClass('menu-collapsed')) {\n              if ($('.main-menu-content li.sidebar-group-active').length) {\n                activeEl = document.querySelector('.main-menu-content li.sidebar-group-active');\n              }\n            } else {\n              menu = document.querySelector('.main-menu-content');\n              if (activeEl) {\n                activeElHeight = activeEl.getBoundingClientRect().top + menu.scrollTop;\n              }\n              // If active element's top position is less than 2/3 (66%) of menu height than do not scroll\n              if (activeElHeight > parseInt(menu.clientHeight * 2 / 3)) {\n                var start = menu.scrollTop,\n                  change = activeElHeight - start - parseInt(menu.clientHeight / 2);\n              }\n            }\n            setTimeout(function () {\n              $.app.menu.container.stop().animate({\n                scrollTop: change\n              }, 300);\n              $('.main-menu').data('scroll-to-active', 'false');\n            }, 300);\n          }\n          this.obj.update();\n        }\n      },\n      enable: function () {\n        if (!$('.main-menu-content').hasClass('ps')) {\n          this.init();\n        }\n      },\n      disable: function () {\n        if (this.obj) {\n          this.obj.destroy();\n        }\n      },\n      updateHeight: function () {\n        if (($body.data('menu') == 'vertical-menu' || $body.data('menu') == 'vertical-menu-modern' || $body.data('menu') == 'vertical-overlay-menu') && $('.main-menu').hasClass('menu-fixed')) {\n          $('.main-menu-content').css('height', $(window).height() - $('.header-navbar').height() - $('.main-menu-header').outerHeight() - $('.main-menu-footer').outerHeight());\n          this.update();\n        }\n      }\n    },\n    init: function (compactMenu) {\n      if ($('.main-menu-content').length > 0) {\n        this.container = $('.main-menu-content');\n        var menuObj = this;\n        var defMenu = '';\n        if (compactMenu === true) {\n          defMenu = 'collapsed';\n        }\n        if ($body.data('menu') == 'vertical-menu-modern') {\n          var menuToggle = '';\n          if (menuToggle === \"false\") {\n            this.change('collapsed');\n          } else {\n            this.change(defMenu);\n          }\n        } else {\n          this.change(defMenu);\n        }\n      } else {\n        // For 1 column layout menu won't be initialized so initiate drill down for mega menu\n\n        // Drill down menu\n        // ------------------------------\n        this.drillDownMenu();\n      }\n      if (defMenu === 'collapsed') {\n        this.collapse();\n      }\n    },\n    drillDownMenu: function (screenSize) {\n      if ($('.drilldown-menu').length) {\n        if (screenSize == 'sm' || screenSize == 'xs') {\n          if ($('#navbar-mobile').attr('aria-expanded') == 'true') {\n            $('.drilldown-menu').slidingMenu({\n              backLabel: true\n            });\n          }\n        } else {\n          $('.drilldown-menu').slidingMenu({\n            backLabel: true\n          });\n        }\n      }\n    },\n    change: function (defMenu) {\n      var currentBreakpoint = Unison.fetch.now(); // Current Breakpoint\n\n      this.reset();\n      var menuType = $body.data('menu');\n      if (currentBreakpoint) {\n        switch (currentBreakpoint.name) {\n          case 'xl':\n          case 'lg':\n            if (menuType === 'vertical-overlay-menu') {\n              this.hide();\n            } else {\n              if (defMenu === 'collapsed') this.collapse(defMenu);else this.expand();\n            }\n            break;\n          case 'md':\n            if (menuType === 'vertical-overlay-menu' || menuType === 'vertical-menu-modern') {\n              this.hide();\n            } else {\n              this.collapse();\n            }\n            break;\n          case 'sm':\n            this.hide();\n            break;\n          case 'xs':\n            this.hide();\n            break;\n        }\n      }\n\n      // On the small and extra small screen make them overlay menu\n      if (menuType === 'vertical-menu' || menuType === 'vertical-menu-modern') {\n        this.toOverlayMenu(currentBreakpoint.name, menuType);\n      }\n      if ($body.is('.horizontal-layout') && !$body.hasClass('.horizontal-menu-demo')) {\n        this.changeMenu(currentBreakpoint.name);\n        $('.menu-toggle').removeClass('is-active');\n      }\n\n      // Initialize drill down menu for vertical layouts, for horizontal layouts drilldown menu is intitialized in changemenu function\n      if (menuType != 'horizontal-menu') {\n        // Drill down menu\n        // ------------------------------\n        this.drillDownMenu(currentBreakpoint.name);\n      }\n\n      // Dropdown submenu on large screen on hover For Large screen only\n      // ---------------------------------------------------------------\n      if (currentBreakpoint.name == 'xl') {\n        $('body[data-open=\"hover\"] .dropdown').on('mouseenter', function () {\n          if (!$(this).hasClass('show')) {\n            $(this).addClass('show');\n          } else {\n            $(this).removeClass('show');\n          }\n        }).on('mouseleave', function (event) {\n          $(this).removeClass('show');\n        });\n        $('body[data-open=\"hover\"] .dropdown a').on('click', function (e) {\n          if (menuType == 'horizontal-menu') {\n            var $this = $(this);\n            if ($this.hasClass('dropdown-toggle')) {\n              return false;\n            }\n          }\n        });\n      }\n\n      // Added data attribute brand-center for navbar-brand-center\n      // TODO:AJ: Shift this feature in JADE.\n      if ($('.header-navbar').hasClass('navbar-brand-center')) {\n        $('.header-navbar').attr('data-nav', 'brand-center');\n      }\n      if (currentBreakpoint.name == 'sm' || currentBreakpoint.name == 'xs') {\n        $('.header-navbar[data-nav=brand-center]').removeClass('navbar-brand-center');\n      } else {\n        $('.header-navbar[data-nav=brand-center]').addClass('navbar-brand-center');\n      }\n\n      // Dropdown submenu on small screen on click\n      // --------------------------------------------------\n      $('ul.dropdown-menu [data-toggle=dropdown]').on('click', function (event) {\n        if ($(this).siblings('ul.dropdown-menu').length > 0) {\n          event.preventDefault();\n        }\n        event.stopPropagation();\n        $(this).parent().siblings().removeClass('show');\n        $(this).parent().toggleClass('show');\n      });\n\n      // Horizontal Fixed Nav Sticky hight issue on small screens\n      if (menuType == \"horizontal-menu\") {\n        if (currentBreakpoint.name == \"xl\") {\n          if ($(\".navbar-fixed\").length) {\n            $(\".navbar-fixed\").sticky();\n          }\n        } else {\n          if ($(\".menu-fixed\").length) {\n            $(\".menu-fixed\").unstick();\n          }\n        }\n      }\n\n      /********************************************\r\n       *             Searchable Menu               *\r\n       ********************************************/\n\n      function searchMenu(list) {\n        var input = $(\".menu-search\");\n        $(input).change(function () {\n          var filter = $(this).val();\n          if (filter) {\n            // Hide Main Navigation Headers\n            $('.navigation-header').hide();\n            // this finds all links in a list that contain the input,\n            // and hide the ones not containing the input while showing the ones that do\n            $(list).find(\"li a:not(:Contains(\" + filter + \"))\").hide().parent().hide();\n            // $(list).find(\"li a:Contains(\" + filter + \")\").show().parents('li').show().addClass('open').closest('li').children('a').show();\n            var searchFilter = $(list).find(\"li a:Contains(\" + filter + \")\");\n            if (searchFilter.parent().hasClass('has-sub')) {\n              searchFilter.show().parents('li').show().addClass('open').closest('li').children('a').show().children('li').show();\n\n              // searchFilter.parents('li').find('li').show().children('a').show();\n              if (searchFilter.siblings('ul').length > 0) {\n                searchFilter.siblings('ul').children('li').show().children('a').show();\n              }\n            } else {\n              searchFilter.show().parents('li').show().addClass('open').closest('li').children('a').show();\n            }\n          } else {\n            // return to default\n            $('.navigation-header').show();\n            $(list).find(\"li a\").show().parent().show().removeClass('open');\n          }\n          $.app.menu.manualScroller.update();\n          return false;\n        }).keyup(function () {\n          // fire the above change event after every letter\n          $(this).change();\n        });\n      }\n      if (menuType === 'vertical-menu' || menuType === 'vertical-overlay-menu') {\n        // custom css expression for a case-insensitive contains()\n        jQuery.expr[':'].Contains = function (a, i, m) {\n          return (a.textContent || a.innerText || \"\").toUpperCase().indexOf(m[3].toUpperCase()) >= 0;\n        };\n        searchMenu($(\"#main-menu-navigation\"));\n      }\n    },\n    /*changeLogo: function(menuType){\r\n      var logo = $('.brand-logo');\r\n      var logoText = $('.brand-text');\r\n      if(menuType == 'expand'){\r\n        // logo.attr('src',logo.data('expand'));\r\n        logoText.delay(100).fadeIn(200);\r\n        // logoText.addClass('d-inline-block').removeClass('d-none');\r\n      }\r\n      else{\r\n        // logo.attr('src',logo.data('collapse'));\r\n        logoText.fadeOut(100);\r\n        // logoText.addClass('d-none').removeClass('d-inline-block');\r\n      }\r\n    },*/\n\n    transit: function (callback1, callback2) {\n      var menuObj = this;\n      $body.addClass('changing-menu');\n      callback1.call(menuObj);\n      if ($body.hasClass('vertical-layout')) {\n        if ($body.hasClass('menu-open') || $body.hasClass('menu-expanded')) {\n          $('.menu-toggle').addClass('is-active');\n\n          // Show menu header search when menu is normally visible\n          if ($body.data('menu') === 'vertical-menu') {\n            if ($('.main-menu-header')) {\n              $('.main-menu-header').show();\n            }\n          }\n        } else {\n          $('.menu-toggle').removeClass('is-active');\n\n          // Hide menu header search when only menu icons are visible\n          if ($body.data('menu') === 'vertical-menu') {\n            if ($('.main-menu-header')) {\n              $('.main-menu-header').hide();\n            }\n          }\n        }\n      }\n      setTimeout(function () {\n        callback2.call(menuObj);\n        $body.removeClass('changing-menu');\n        menuObj.update();\n      }, 500);\n    },\n    open: function () {\n      this.transit(function () {\n        $body.removeClass('menu-hide menu-collapsed').addClass('menu-open');\n        this.hidden = false;\n        this.expanded = true;\n        if ($body.hasClass('vertical-overlay-menu')) {\n          $('.sidenav-overlay').removeClass('d-none').addClass('d-block');\n          $('body').css('overflow', 'hidden');\n        }\n      }, function () {\n        if (!$('.main-menu').hasClass('menu-native-scroll') && $('.main-menu').hasClass('menu-fixed')) {\n          this.manualScroller.enable();\n          $('.main-menu-content').css('height', $(window).height() - $('.header-navbar').height() - $('.main-menu-header').outerHeight() - $('.main-menu-footer').outerHeight());\n          // this.manualScroller.update();\n        }\n        if (!$body.hasClass('vertical-overlay-menu')) {\n          $('.sidenav-overlay').removeClass('d-block d-none');\n          $('body').css('overflow', 'auto');\n        }\n      });\n    },\n    hide: function () {\n      this.transit(function () {\n        $body.removeClass('menu-open menu-expanded').addClass('menu-hide');\n        this.hidden = true;\n        this.expanded = false;\n        if ($body.hasClass('vertical-overlay-menu')) {\n          $('.sidenav-overlay').removeClass('d-block').addClass('d-none');\n          $('body').css('overflow', 'auto');\n        }\n      }, function () {\n        if (!$('.main-menu').hasClass('menu-native-scroll') && $('.main-menu').hasClass('menu-fixed')) {\n          this.manualScroller.enable();\n        }\n        if (!$body.hasClass('vertical-overlay-menu')) {\n          $('.sidenav-overlay').removeClass('d-block d-none');\n          $('body').css('overflow', 'auto');\n        }\n      });\n    },\n    expand: function () {\n      if (this.expanded === false) {\n        if ($body.data('menu') == 'vertical-menu-modern') {\n          $('.modern-nav-toggle').find('.toggle-icon').removeClass('feather icon-toggle-left').addClass('feather icon-toggle-right');\n        }\n        /*if( $body.data('menu') == 'vertical-menu' || $body.data('menu') == 'vertical-menu-modern'){\r\n          this.changeLogo('expand');\r\n        }*/\n        this.transit(function () {\n          $body.removeClass('menu-collapsed').addClass('menu-expanded');\n          this.collapsed = false;\n          this.expanded = true;\n          $('.sidenav-overlay').removeClass('d-block d-none');\n        }, function () {\n          if ($('.main-menu').hasClass('menu-native-scroll') || $body.data('menu') == 'horizontal-menu') {\n            this.manualScroller.disable();\n          } else {\n            if ($('.main-menu').hasClass('menu-fixed')) this.manualScroller.enable();\n          }\n          if (($body.data('menu') == 'vertical-menu' || $body.data('menu') == 'vertical-menu-modern') && $('.main-menu').hasClass('menu-fixed')) {\n            $('.main-menu-content').css('height', $(window).height() - $('.header-navbar').height() - $('.main-menu-header').outerHeight() - $('.main-menu-footer').outerHeight());\n            // this.manualScroller.update();\n          }\n        });\n      }\n    },\n    collapse: function (defMenu) {\n      if (this.collapsed === false) {\n        if ($body.data('menu') == 'vertical-menu-modern') {\n          $('.modern-nav-toggle').find('.toggle-icon').removeClass('feather icon-toggle-right').addClass('feather icon-toggle-left');\n        }\n        /*if( ($body.data('menu') == 'vertical-menu' ) || ($body.data('menu') == 'vertical-menu-modern' ) ){\r\n          this.changeLogo('collapse');\r\n        }*/\n        this.transit(function () {\n          $body.removeClass('menu-expanded').addClass('menu-collapsed');\n          this.collapsed = true;\n          this.expanded = false;\n          $('.content-overlay').removeClass('d-block d-none');\n        }, function () {\n          if ($body.data('menu') == 'horizontal-menu' && $body.hasClass('vertical-overlay-menu')) {\n            if ($('.main-menu').hasClass('menu-fixed')) this.manualScroller.enable();\n          }\n          if (($body.data('menu') == 'vertical-menu' || $body.data('menu') == 'vertical-menu-modern') && $('.main-menu').hasClass('menu-fixed')) {\n            $('.main-menu-content').css('height', $(window).height() - $('.header-navbar').height());\n            this.manualScroller.enable();\n          }\n          if ($body.data('menu') == 'vertical-menu-modern') {\n            if ($('.main-menu').hasClass('menu-fixed')) this.manualScroller.enable();\n          }\n          /*if( $body.data('menu') == 'vertical-menu-modern' && defMenu === 'collapsed' ){\r\n            var $listItem = $('.main-menu li.open'),\r\n            $subList = $listItem.children('ul');\r\n            $listItem.addClass('menu-collapsed-open');\r\n              $subList.show().slideUp(200, function() {\r\n                $(this).css('display', '');\r\n            });\r\n              $listItem.removeClass('open');\r\n            // $.app.menu.changeLogo();\r\n          }*/\n        });\n      }\n    },\n    toOverlayMenu: function (screen, menuType) {\n      var menu = $body.data('menu');\n      if (menuType == 'vertical-menu-modern') {\n        if (screen == 'md' || screen == 'sm' || screen == 'xs') {\n          if ($body.hasClass(menu)) {\n            $body.removeClass(menu).addClass('vertical-overlay-menu');\n          }\n        } else {\n          if ($body.hasClass('vertical-overlay-menu')) {\n            $body.removeClass('vertical-overlay-menu').addClass(menu);\n          }\n        }\n      } else {\n        if (screen == 'sm' || screen == 'xs') {\n          if ($body.hasClass(menu)) {\n            $body.removeClass(menu).addClass('vertical-overlay-menu');\n          }\n        } else {\n          if ($body.hasClass('vertical-overlay-menu')) {\n            $body.removeClass('vertical-overlay-menu').addClass(menu);\n          }\n        }\n      }\n    },\n    changeMenu: function (screen) {\n      // Replace menu html\n      $('div[data-menu=\"menu-wrapper\"]').html('');\n      $('div[data-menu=\"menu-wrapper\"]').html(menuWrapper_el);\n      var menuWrapper = $('div[data-menu=\"menu-wrapper\"]'),\n        menuContainer = $('div[data-menu=\"menu-container\"]'),\n        menuNavigation = $('ul[data-menu=\"menu-navigation\"]'),\n        megaMenu = $('li[data-menu=\"megamenu\"]'),\n        megaMenuCol = $('li[data-mega-col]'),\n        dropdownMenu = $('li[data-menu=\"dropdown\"]'),\n        dropdownSubMenu = $('li[data-menu=\"dropdown-submenu\"]');\n      if (screen == 'xl') {\n        // Change body classes\n        $body.removeClass('vertical-layout vertical-overlay-menu fixed-navbar').addClass($body.data('menu'));\n\n        // Remove navbar-fix-top class on large screens\n        $('nav.header-navbar').removeClass('fixed-top');\n\n        // Change menu wrapper, menu container, menu navigation classes\n        menuWrapper.removeClass().addClass(menuWrapperClasses);\n\n        // Intitialize drill down menu for horizontal layouts\n        // --------------------------------------------------\n        this.drillDownMenu(screen);\n        $('a.dropdown-item.nav-has-children').on('click', function () {\n          event.preventDefault();\n          event.stopPropagation();\n        });\n        $('a.dropdown-item.nav-has-parent').on('click', function () {\n          event.preventDefault();\n          event.stopPropagation();\n        });\n      } else {\n        // Change body classes\n        $body.removeClass($body.data('menu')).addClass('vertical-layout vertical-overlay-menu fixed-navbar');\n\n        // Add navbar-fix-top class on small screens\n        $('nav.header-navbar').addClass('fixed-top');\n\n        // Change menu wrapper, menu container, menu navigation classes\n        menuWrapper.removeClass().addClass('main-menu menu-light menu-fixed menu-shadow');\n        // menuContainer.removeClass().addClass('main-menu-content');\n        menuNavigation.removeClass().addClass('navigation navigation-main');\n\n        // If Mega Menu\n        megaMenu.removeClass('dropdown mega-dropdown').addClass('has-sub');\n        megaMenu.children('ul').removeClass();\n        megaMenuCol.each(function (index, el) {\n          // Remove drilldown-menu and menu list\n          var megaMenuSub = $(el).find('.mega-menu-sub');\n          megaMenuSub.find('li').has('ul').addClass('has-sub');\n\n          // if mega menu title is given, remove title and make it list item with mega menu title's text\n          var first_child = $(el).children().first(),\n            first_child_text = '';\n          if (first_child.is('h6')) {\n            first_child_text = first_child.html();\n            first_child.remove();\n            $(el).prepend('<a href=\"#\">' + first_child_text + '</a>').addClass('has-sub mega-menu-title');\n          }\n        });\n        megaMenu.find('a').removeClass('dropdown-toggle');\n        megaMenu.find('a').removeClass('dropdown-item');\n\n        // If Dropdown Menu\n        dropdownMenu.removeClass('dropdown').addClass('has-sub');\n        dropdownMenu.find('a').removeClass('dropdown-toggle nav-link');\n        dropdownMenu.children('ul').find('a').removeClass('dropdown-item');\n        dropdownMenu.find('ul').removeClass('dropdown-menu');\n        dropdownSubMenu.removeClass().addClass('has-sub');\n        $.app.nav.init();\n\n        // Dropdown submenu on small screen on click\n        // --------------------------------------------------\n        $('ul.dropdown-menu [data-toggle=dropdown]').on('click', function (event) {\n          event.preventDefault();\n          event.stopPropagation();\n          $(this).parent().siblings().removeClass('open');\n          $(this).parent().toggleClass('open');\n        });\n      }\n    },\n    toggle: function () {\n      var currentBreakpoint = Unison.fetch.now(); // Current Breakpoint\n      var collapsed = this.collapsed;\n      var expanded = this.expanded;\n      var hidden = this.hidden;\n      var menu = $body.data('menu');\n      switch (currentBreakpoint.name) {\n        case 'xl':\n          if (expanded === true) {\n            if (menu == 'vertical-overlay-menu') {\n              this.hide();\n            } else {\n              this.collapse();\n            }\n          } else {\n            if (menu == 'vertical-overlay-menu') {\n              this.open();\n            } else {\n              this.expand();\n            }\n          }\n          break;\n        case 'lg':\n          if (expanded === true) {\n            if (menu == 'vertical-overlay-menu' || menu == 'horizontal-menu') {\n              this.hide();\n            } else {\n              this.collapse();\n            }\n          } else {\n            if (menu == 'vertical-overlay-menu' || menu == 'horizontal-menu') {\n              this.open();\n            } else {\n              this.expand();\n            }\n          }\n          break;\n        case 'md':\n          if (expanded === true) {\n            if (menu == 'vertical-overlay-menu' || menu == 'vertical-menu-modern' || menu == 'horizontal-menu') {\n              this.hide();\n            } else {\n              this.collapse();\n            }\n          } else {\n            if (menu == 'vertical-overlay-menu' || menu == 'vertical-menu-modern' || menu == 'horizontal-menu') {\n              this.open();\n            } else {\n              this.expand();\n            }\n          }\n          break;\n        case 'sm':\n          if (hidden === true) {\n            this.open();\n          } else {\n            this.hide();\n          }\n          break;\n        case 'xs':\n          if (hidden === true) {\n            this.open();\n          } else {\n            this.hide();\n          }\n          break;\n      }\n\n      // Re-init sliding menu to update width\n      this.drillDownMenu(currentBreakpoint.name);\n    },\n    update: function () {\n      this.manualScroller.update();\n    },\n    reset: function () {\n      this.expanded = false;\n      this.collapsed = false;\n      this.hidden = false;\n      $body.removeClass('menu-hide menu-open menu-collapsed menu-expanded');\n    }\n  };\n\n  // Navigation Menu\n  $.app.nav = {\n    container: $('.navigation-main'),\n    initialized: false,\n    navItem: $('.navigation-main').find('li').not('.navigation-category'),\n    config: {\n      speed: 300\n    },\n    init: function (config) {\n      this.initialized = true; // Set to true when initialized\n      $.extend(this.config, config);\n      this.bind_events();\n    },\n    bind_events: function () {\n      var menuObj = this;\n      $('.navigation-main').on('mouseenter.app.menu', 'li', function () {\n        var $this = $(this);\n        $('.hover', '.navigation-main').removeClass('hover');\n        if ($body.hasClass('menu-collapsed') && $body.data('menu') != 'vertical-menu-modern') {\n          $('.main-menu-content').children('span.menu-title').remove();\n          $('.main-menu-content').children('a.menu-title').remove();\n          $('.main-menu-content').children('ul.menu-content').remove();\n\n          // Title\n          var menuTitle = $this.find('span.menu-title').clone(),\n            tempTitle,\n            tempLink;\n          if (!$this.hasClass('has-sub')) {\n            tempTitle = $this.find('span.menu-title').text();\n            tempLink = $this.children('a').attr('href');\n            if (tempTitle !== '') {\n              menuTitle = $(\"<a>\");\n              menuTitle.attr(\"href\", tempLink);\n              menuTitle.attr(\"title\", tempTitle);\n              menuTitle.text(tempTitle);\n              menuTitle.addClass(\"menu-title\");\n            }\n          }\n          // menu_header_height = ($('.main-menu-header').length) ? $('.main-menu-header').height() : 0,\n          // fromTop = menu_header_height + $this.position().top + parseInt($this.css( \"border-top\" ),10);\n          var fromTop;\n          if ($this.css(\"border-top\")) {\n            fromTop = $this.position().top + parseInt($this.css(\"border-top\"), 10);\n          } else {\n            fromTop = $this.position().top;\n          }\n          if ($body.data('menu') !== 'vertical-compact-menu') {\n            menuTitle.appendTo('.main-menu-content').css({\n              position: 'fixed',\n              top: fromTop\n            });\n          }\n\n          // Content\n          if ($this.hasClass('has-sub') && $this.hasClass('nav-item')) {\n            var menuContent = $this.children('ul:first');\n            menuObj.adjustSubmenu($this);\n          }\n        }\n        $this.addClass('hover');\n      }).on('mouseleave.app.menu', 'li', function () {\n        // $(this).removeClass('hover');\n      }).on('active.app.menu', 'li', function (e) {\n        $(this).addClass('active');\n        e.stopPropagation();\n      }).on('deactive.app.menu', 'li.active', function (e) {\n        $(this).removeClass('active');\n        e.stopPropagation();\n      }).on('open.app.menu', 'li', function (e) {\n        var $listItem = $(this);\n        $listItem.addClass('open');\n        menuObj.expand($listItem);\n\n        // If menu collapsible then do not take any action\n        if ($('.main-menu').hasClass('menu-collapsible')) {\n          return false;\n        }\n        // If menu accordion then close all except clicked once\n        else {\n          $listItem.siblings('.open').find('li.open').trigger('close.app.menu');\n          $listItem.siblings('.open').trigger('close.app.menu');\n        }\n        e.stopPropagation();\n      }).on('close.app.menu', 'li.open', function (e) {\n        var $listItem = $(this);\n        $listItem.removeClass('open');\n        menuObj.collapse($listItem);\n        e.stopPropagation();\n      }).on('click.app.menu', 'li', function (e) {\n        var $listItem = $(this);\n        if ($listItem.is('.disabled')) {\n          e.preventDefault();\n        } else {\n          if ($body.hasClass('menu-collapsed') && $body.data('menu') != 'vertical-menu-modern') {\n            e.preventDefault();\n          } else {\n            if ($listItem.has('ul')) {\n              if ($listItem.is('.open')) {\n                $listItem.trigger('close.app.menu');\n              } else {\n                $listItem.trigger('open.app.menu');\n              }\n            } else {\n              if (!$listItem.is('.active')) {\n                $listItem.siblings('.active').trigger('deactive.app.menu');\n                $listItem.trigger('active.app.menu');\n              }\n            }\n          }\n        }\n        e.stopPropagation();\n      });\n      $('.navbar-header, .main-menu').on('mouseenter', modernMenuExpand).on('mouseleave', modernMenuCollapse);\n      function modernMenuExpand() {\n        if ($body.data('menu') == 'vertical-menu-modern') {\n          $('.main-menu, .navbar-header').addClass('expanded');\n          if ($body.hasClass('menu-collapsed')) {\n            var $listItem = $('.main-menu li.menu-collapsed-open'),\n              $subList = $listItem.children('ul');\n            $subList.hide().slideDown(200, function () {\n              $(this).css('display', '');\n            });\n            $listItem.addClass('open').removeClass('menu-collapsed-open');\n            // $.app.menu.changeLogo('expand');\n          }\n        }\n      }\n      function modernMenuCollapse() {\n        if ($body.hasClass('menu-collapsed') && $body.data('menu') == 'vertical-menu-modern') {\n          setTimeout(function () {\n            if ($('.main-menu:hover').length === 0 && $('.navbar-header:hover').length === 0) {\n              $('.main-menu, .navbar-header').removeClass('expanded');\n              if ($body.hasClass('menu-collapsed')) {\n                var $listItem = $('.main-menu li.open'),\n                  $subList = $listItem.children('ul');\n                $listItem.addClass('menu-collapsed-open');\n                $subList.show().slideUp(200, function () {\n                  $(this).css('display', '');\n                });\n                $listItem.removeClass('open');\n                // $.app.menu.changeLogo();\n              }\n            }\n          }, 1);\n        }\n      }\n      $('.main-menu-content').on('mouseleave', function () {\n        if ($body.hasClass('menu-collapsed')) {\n          $('.main-menu-content').children('span.menu-title').remove();\n          $('.main-menu-content').children('a.menu-title').remove();\n          $('.main-menu-content').children('ul.menu-content').remove();\n        }\n        $('.hover', '.navigation-main').removeClass('hover');\n      });\n\n      // If list item has sub menu items then prevent redirection.\n      $('.navigation-main li.has-sub > a').on('click', function (e) {\n        e.preventDefault();\n      });\n      $('ul.menu-content').on('click', 'li', function (e) {\n        var $listItem = $(this);\n        if ($listItem.is('.disabled')) {\n          e.preventDefault();\n        } else {\n          if ($listItem.has('ul')) {\n            if ($listItem.is('.open')) {\n              $listItem.removeClass('open');\n              menuObj.collapse($listItem);\n            } else {\n              $listItem.addClass('open');\n              menuObj.expand($listItem);\n\n              // If menu collapsible then do not take any action\n              if ($('.main-menu').hasClass('menu-collapsible')) {\n                return false;\n              }\n              // If menu accordion then close all except clicked once\n              else {\n                $listItem.siblings('.open').find('li.open').trigger('close.app.menu');\n                $listItem.siblings('.open').trigger('close.app.menu');\n              }\n              e.stopPropagation();\n            }\n          } else {\n            if (!$listItem.is('.active')) {\n              $listItem.siblings('.active').trigger('deactive.app.menu');\n              $listItem.trigger('active.app.menu');\n            }\n          }\n        }\n        e.stopPropagation();\n      });\n    },\n    /**\r\n     * Ensure an admin submenu is within the visual viewport.\r\n     * @param {jQuery} $menuItem The parent menu item containing the submenu.\r\n     */\n    adjustSubmenu: function ($menuItem) {\n      var menuHeaderHeight,\n        menutop,\n        topPos,\n        winHeight,\n        bottomOffset,\n        subMenuHeight,\n        popOutMenuHeight,\n        borderWidth,\n        scroll_theme,\n        $submenu = $menuItem.children('ul:first'),\n        ul = $submenu.clone(true);\n      menuHeaderHeight = $('.main-menu-header').height();\n      menutop = $menuItem.position().top;\n      winHeight = $window.height() - $('.header-navbar').height();\n      borderWidth = 0;\n      subMenuHeight = $submenu.height();\n      if (parseInt($menuItem.css(\"border-top\"), 10) > 0) {\n        borderWidth = parseInt($menuItem.css(\"border-top\"), 10);\n      }\n      popOutMenuHeight = winHeight - menutop - $menuItem.height() - 30;\n      scroll_theme = $('.main-menu').hasClass('menu-dark') ? 'light' : 'dark';\n      topPos = menutop + $menuItem.height() + borderWidth;\n      ul.addClass('menu-popout').appendTo('.main-menu-content').css({\n        'top': topPos,\n        'position': 'fixed',\n        'max-height': popOutMenuHeight\n      });\n      var menu_content = new PerfectScrollbar('.main-menu-content > ul.menu-content');\n    },\n    collapse: function ($listItem, callback) {\n      var $subList = $listItem.children('ul');\n      $listItem.addClass('changing');\n      $subList.show().slideUp($.app.nav.config.speed, function () {\n        $(this).css('display', '');\n        $(this).find('> li').removeClass('is-shown');\n        if (callback) {\n          callback();\n        }\n        $.app.nav.container.trigger('collapsed.app.menu');\n        $listItem.removeClass('changing');\n      });\n    },\n    expand: function ($listItem, callback) {\n      var $subList = $listItem.children('ul');\n      var $children = $subList.children('li').addClass('is-hidden');\n      $subList.hide().slideDown($.app.nav.config.speed, function () {\n        $(this).css('display', '');\n        if (callback) {\n          callback();\n        }\n        $.app.nav.container.trigger('expanded.app.menu');\n      });\n      setTimeout(function () {\n        $children.addClass('is-shown');\n        $children.removeClass('is-hidden');\n      }, 0);\n    },\n    refresh: function () {\n      $.app.nav.container.find('.open').removeClass('open');\n    }\n  };\n})(window, document, jQuery);","map":{"version":3,"names":["window","document","$","app","$body","$window","menuWrapper_el","html","menuWrapperClasses","attr","menu","expanded","collapsed","hidden","container","horizontalMenu","is_touch_device","prefixes","split","mq","query","matchMedia","matches","DocumentTouch","join","manualScroller","obj","init","scroll_theme","hasClass","PerfectScrollbar","suppressScrollX","wheelPropagation","addClass","update","data","activeEl","activeElHeight","querySelector","length","getBoundingClientRect","top","scrollTop","parseInt","clientHeight","start","change","setTimeout","stop","animate","enable","disable","destroy","updateHeight","css","height","outerHeight","compactMenu","menuObj","defMenu","menuToggle","drillDownMenu","collapse","screenSize","slidingMenu","backLabel","currentBreakpoint","Unison","fetch","now","reset","menuType","name","hide","expand","toOverlayMenu","is","changeMenu","removeClass","on","event","e","$this","siblings","preventDefault","stopPropagation","parent","toggleClass","sticky","unstick","searchMenu","list","input","filter","val","find","searchFilter","show","parents","closest","children","keyup","jQuery","expr","Contains","a","i","m","textContent","innerText","toUpperCase","indexOf","transit","callback1","callback2","call","open","screen","menuWrapper","menuContainer","menuNavigation","megaMenu","megaMenuCol","dropdownMenu","dropdownSubMenu","each","index","el","megaMenuSub","has","first_child","first","first_child_text","remove","prepend","nav","toggle","initialized","navItem","not","config","speed","extend","bind_events","menuTitle","clone","tempTitle","tempLink","text","fromTop","position","appendTo","menuContent","adjustSubmenu","$listItem","trigger","modernMenuExpand","modernMenuCollapse","$subList","slideDown","slideUp","$menuItem","menuHeaderHeight","menutop","topPos","winHeight","bottomOffset","subMenuHeight","popOutMenuHeight","borderWidth","$submenu","ul","menu_content","callback","$children","refresh"],"sources":["/home/east/Desktop/Projects/dropboxed/frontend/src/app-assets/js/core/app-menu.js"],"sourcesContent":["/*=========================================================================================\r\n  File Name: app-menu.js\r\n  Description: Menu navigation, custom scrollbar, hover scroll bar, multilevel menu\r\n  initialization and manipulations\r\n  ----------------------------------------------------------------------------------------\r\n  Item Name: Stack - Responsive Admin Theme\r\n  Author: Pixinvent\r\n  Author URL: hhttp://www.themeforest.net/user/pixinvent\r\n==========================================================================================*/\r\n(function (window, document, $) {\r\n  'use strict';\r\n\r\n  $.app = $.app || {};\r\n\r\n  var $body = $('body');\r\n  var $window = $(window);\r\n  var menuWrapper_el = $('div[data-menu=\"menu-wrapper\"]').html();\r\n  var menuWrapperClasses = $('div[data-menu=\"menu-wrapper\"]').attr('class');\r\n\r\n  // Main menu\r\n  $.app.menu = {\r\n    expanded: null,\r\n    collapsed: null,\r\n    hidden: null,\r\n    container: null,\r\n    horizontalMenu: false,\r\n    is_touch_device: function () {\r\n      var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\r\n      var mq = function (query) {\r\n        return window.matchMedia(query).matches;\r\n      }\r\n      if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\r\n        return true;\r\n      }\r\n      // include the 'heartz' as a way to have a non matching MQ to help terminate the join\r\n      // https://git.io/vznFH\r\n      var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\r\n      return mq(query);\r\n    },\r\n\r\n    manualScroller: {\r\n      obj: null,\r\n\r\n      init: function () {\r\n        var scroll_theme = ($('.main-menu').hasClass('menu-dark')) ? 'light' : 'dark';\r\n\r\n        if (!$.app.menu.is_touch_device()) {\r\n          this.obj = new PerfectScrollbar(\".main-menu-content\", {\r\n            suppressScrollX: true,\r\n            wheelPropagation: false\r\n          });\r\n        }\r\n        else {\r\n          $(\".main-menu\").addClass(\"menu-native-scroll\")\r\n        }\r\n      },\r\n\r\n      update: function () {\r\n        if (this.obj) {\r\n          // Scroll to currently active menu on page load if data-scroll-to-active is true\r\n          if ($('.main-menu').data('scroll-to-active') === true) {\r\n            var activeEl, menu, activeElHeight;\r\n            activeEl = document.querySelector('.main-menu-content li.active');\r\n            if ($body.hasClass('menu-collapsed')) {\r\n              if ($('.main-menu-content li.sidebar-group-active').length) {\r\n                activeEl = document.querySelector('.main-menu-content li.sidebar-group-active');\r\n              }\r\n            } else {\r\n              menu = document.querySelector('.main-menu-content');\r\n              if (activeEl) {\r\n                activeElHeight = activeEl.getBoundingClientRect().top + menu.scrollTop;\r\n              }\r\n              // If active element's top position is less than 2/3 (66%) of menu height than do not scroll\r\n              if (activeElHeight > parseInt((menu.clientHeight * 2) / 3)) {\r\n                var start = menu.scrollTop,\r\n                  change = activeElHeight - start - parseInt(menu.clientHeight / 2);\r\n              }\r\n            }\r\n            setTimeout(function () {\r\n              $.app.menu.container.stop().animate({\r\n                scrollTop: change\r\n              }, 300);\r\n              $('.main-menu').data('scroll-to-active', 'false');\r\n            }, 300);\r\n          }\r\n          this.obj.update();\r\n        }\r\n      },\r\n\r\n      enable: function () {\r\n        if (!$('.main-menu-content').hasClass('ps')) {\r\n          this.init();\r\n        }\r\n      },\r\n\r\n      disable: function () {\r\n        if (this.obj) {\r\n          this.obj.destroy();\r\n        }\r\n      },\r\n\r\n      updateHeight: function () {\r\n        if (($body.data('menu') == 'vertical-menu' || $body.data('menu') == 'vertical-menu-modern' || $body.data('menu') == 'vertical-overlay-menu') && $('.main-menu').hasClass('menu-fixed')) {\r\n          $('.main-menu-content').css('height', $(window).height() - $('.header-navbar').height() - $('.main-menu-header').outerHeight() - $('.main-menu-footer').outerHeight());\r\n          this.update();\r\n        }\r\n      }\r\n    },\r\n\r\n    init: function (compactMenu) {\r\n      if ($('.main-menu-content').length > 0) {\r\n        this.container = $('.main-menu-content');\r\n\r\n        var menuObj = this;\r\n        var defMenu = '';\r\n\r\n        if (compactMenu === true) {\r\n          defMenu = 'collapsed';\r\n        }\r\n\r\n        if ($body.data('menu') == 'vertical-menu-modern') {\r\n          var menuToggle = '';\r\n\r\n          if (menuToggle === \"false\") {\r\n            this.change('collapsed');\r\n          } else {\r\n            this.change(defMenu);\r\n          }\r\n        } else {\r\n          this.change(defMenu);\r\n        }\r\n      } else {\r\n        // For 1 column layout menu won't be initialized so initiate drill down for mega menu\r\n\r\n        // Drill down menu\r\n        // ------------------------------\r\n        this.drillDownMenu();\r\n      }\r\n\r\n      if(defMenu === 'collapsed'){\r\n        this.collapse();\r\n      }\r\n    },\r\n\r\n    drillDownMenu: function (screenSize) {\r\n      if ($('.drilldown-menu').length) {\r\n        if (screenSize == 'sm' || screenSize == 'xs') {\r\n          if ($('#navbar-mobile').attr('aria-expanded') == 'true') {\r\n\r\n            $('.drilldown-menu').slidingMenu({\r\n              backLabel: true\r\n            });\r\n          }\r\n        } else {\r\n          $('.drilldown-menu').slidingMenu({\r\n            backLabel: true\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    change: function (defMenu) {\r\n      var currentBreakpoint = Unison.fetch.now(); // Current Breakpoint\r\n\r\n      this.reset();\r\n\r\n      var menuType = $body.data('menu');\r\n\r\n      if (currentBreakpoint) {\r\n        switch (currentBreakpoint.name) {\r\n          case 'xl':\r\n          case 'lg':\r\n            if (menuType === 'vertical-overlay-menu') {\r\n              this.hide();\r\n            } else {\r\n              if (defMenu === 'collapsed')\r\n                this.collapse(defMenu);\r\n              else\r\n                this.expand();\r\n            }\r\n            break;\r\n          case 'md':\r\n            if (menuType === 'vertical-overlay-menu' || menuType === 'vertical-menu-modern') {\r\n              this.hide();\r\n            } else {\r\n              this.collapse();\r\n            }\r\n            break;\r\n          case 'sm':\r\n            this.hide();\r\n            break;\r\n          case 'xs':\r\n            this.hide();\r\n            break;\r\n        }\r\n      }\r\n\r\n      // On the small and extra small screen make them overlay menu\r\n      if (menuType === 'vertical-menu' || menuType === 'vertical-menu-modern') {\r\n        this.toOverlayMenu(currentBreakpoint.name, menuType);\r\n      }\r\n\r\n      if ($body.is('.horizontal-layout') && !$body.hasClass('.horizontal-menu-demo')) {\r\n        this.changeMenu(currentBreakpoint.name);\r\n\r\n        $('.menu-toggle').removeClass('is-active');\r\n      }\r\n\r\n      // Initialize drill down menu for vertical layouts, for horizontal layouts drilldown menu is intitialized in changemenu function\r\n      if (menuType != 'horizontal-menu') {\r\n        // Drill down menu\r\n        // ------------------------------\r\n        this.drillDownMenu(currentBreakpoint.name);\r\n      }\r\n\r\n      // Dropdown submenu on large screen on hover For Large screen only\r\n      // ---------------------------------------------------------------\r\n      if (currentBreakpoint.name == 'xl') {\r\n        $('body[data-open=\"hover\"] .dropdown').on('mouseenter', function () {\r\n          if (!($(this).hasClass('show'))) {\r\n            $(this).addClass('show');\r\n          } else {\r\n            $(this).removeClass('show');\r\n          }\r\n        }).on('mouseleave', function (event) {\r\n          $(this).removeClass('show');\r\n        });\r\n\r\n        $('body[data-open=\"hover\"] .dropdown a').on('click', function (e) {\r\n          if (menuType == 'horizontal-menu') {\r\n            var $this = $(this);\r\n            if ($this.hasClass('dropdown-toggle')) {\r\n              return false;\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      // Added data attribute brand-center for navbar-brand-center\r\n      // TODO:AJ: Shift this feature in JADE.\r\n      if ($('.header-navbar').hasClass('navbar-brand-center')) {\r\n        $('.header-navbar').attr('data-nav', 'brand-center');\r\n      }\r\n      if (currentBreakpoint.name == 'sm' || currentBreakpoint.name == 'xs') {\r\n        $('.header-navbar[data-nav=brand-center]').removeClass('navbar-brand-center');\r\n      } else {\r\n        $('.header-navbar[data-nav=brand-center]').addClass('navbar-brand-center');\r\n      }\r\n\r\n      // Dropdown submenu on small screen on click\r\n      // --------------------------------------------------\r\n      $('ul.dropdown-menu [data-toggle=dropdown]').on('click', function (event) {\r\n        if ($(this).siblings('ul.dropdown-menu').length > 0) {\r\n          event.preventDefault();\r\n        }\r\n        event.stopPropagation();\r\n        $(this).parent().siblings().removeClass('show');\r\n        $(this).parent().toggleClass('show');\r\n      });\r\n\r\n      // Horizontal Fixed Nav Sticky hight issue on small screens\r\n      if (menuType == \"horizontal-menu\") {\r\n        if (currentBreakpoint.name == \"xl\") {\r\n          if ($(\".navbar-fixed\").length) {\r\n            $(\".navbar-fixed\").sticky();\r\n          }\r\n        } else {\r\n          if ($(\".menu-fixed\").length) {\r\n            $(\".menu-fixed\").unstick();\r\n          }\r\n        }\r\n      }\r\n\r\n      /********************************************\r\n       *             Searchable Menu               *\r\n       ********************************************/\r\n\r\n      function searchMenu(list) {\r\n\r\n        var input = $(\".menu-search\");\r\n        $(input)\r\n          .change(function () {\r\n            var filter = $(this).val();\r\n            if (filter) {\r\n              // Hide Main Navigation Headers\r\n              $('.navigation-header').hide();\r\n              // this finds all links in a list that contain the input,\r\n              // and hide the ones not containing the input while showing the ones that do\r\n              $(list).find(\"li a:not(:Contains(\" + filter + \"))\").hide().parent().hide();\r\n              // $(list).find(\"li a:Contains(\" + filter + \")\").show().parents('li').show().addClass('open').closest('li').children('a').show();\r\n              var searchFilter = $(list).find(\"li a:Contains(\" + filter + \")\");\r\n              if (searchFilter.parent().hasClass('has-sub')) {\r\n                searchFilter.show()\r\n                  .parents('li').show()\r\n                  .addClass('open')\r\n                  .closest('li')\r\n                  .children('a').show()\r\n                  .children('li').show();\r\n\r\n                // searchFilter.parents('li').find('li').show().children('a').show();\r\n                if (searchFilter.siblings('ul').length > 0) {\r\n                  searchFilter.siblings('ul').children('li').show().children('a').show();\r\n                }\r\n\r\n              } else {\r\n                searchFilter.show().parents('li').show().addClass('open').closest('li').children('a').show();\r\n              }\r\n            } else {\r\n              // return to default\r\n              $('.navigation-header').show();\r\n              $(list).find(\"li a\").show().parent().show().removeClass('open');\r\n            }\r\n            $.app.menu.manualScroller.update();\r\n            return false;\r\n          })\r\n          .keyup(function () {\r\n            // fire the above change event after every letter\r\n            $(this).change();\r\n          });\r\n      }\r\n\r\n      if (menuType === 'vertical-menu' || menuType === 'vertical-overlay-menu') {\r\n        // custom css expression for a case-insensitive contains()\r\n        jQuery.expr[':'].Contains = function (a, i, m) {\r\n          return (a.textContent || a.innerText || \"\").toUpperCase().indexOf(m[3].toUpperCase()) >= 0;\r\n        };\r\n\r\n        searchMenu($(\"#main-menu-navigation\"));\r\n      }\r\n    },\r\n\r\n    /*changeLogo: function(menuType){\r\n      var logo = $('.brand-logo');\r\n      var logoText = $('.brand-text');\r\n      if(menuType == 'expand'){\r\n        // logo.attr('src',logo.data('expand'));\r\n        logoText.delay(100).fadeIn(200);\r\n        // logoText.addClass('d-inline-block').removeClass('d-none');\r\n      }\r\n      else{\r\n        // logo.attr('src',logo.data('collapse'));\r\n        logoText.fadeOut(100);\r\n        // logoText.addClass('d-none').removeClass('d-inline-block');\r\n      }\r\n    },*/\r\n\r\n    transit: function (callback1, callback2) {\r\n      var menuObj = this;\r\n      $body.addClass('changing-menu');\r\n\r\n      callback1.call(menuObj);\r\n\r\n      if ($body.hasClass('vertical-layout')) {\r\n        if ($body.hasClass('menu-open') || $body.hasClass('menu-expanded')) {\r\n          $('.menu-toggle').addClass('is-active');\r\n\r\n          // Show menu header search when menu is normally visible\r\n          if ($body.data('menu') === 'vertical-menu') {\r\n            if ($('.main-menu-header')) {\r\n              $('.main-menu-header').show();\r\n            }\r\n          }\r\n        } else {\r\n          $('.menu-toggle').removeClass('is-active');\r\n\r\n          // Hide menu header search when only menu icons are visible\r\n          if ($body.data('menu') === 'vertical-menu') {\r\n            if ($('.main-menu-header')) {\r\n              $('.main-menu-header').hide();\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      setTimeout(function () {\r\n        callback2.call(menuObj);\r\n        $body.removeClass('changing-menu');\r\n\r\n        menuObj.update();\r\n      }, 500);\r\n    },\r\n\r\n    open: function () {\r\n      this.transit(function () {\r\n        $body.removeClass('menu-hide menu-collapsed').addClass('menu-open');\r\n        this.hidden = false;\r\n        this.expanded = true;\r\n\r\n        if ($body.hasClass('vertical-overlay-menu')) {\r\n          $('.sidenav-overlay').removeClass('d-none').addClass('d-block');\r\n          $('body').css('overflow', 'hidden');\r\n        }\r\n      }, function () {\r\n        if (!$('.main-menu').hasClass('menu-native-scroll') && $('.main-menu').hasClass('menu-fixed')) {\r\n          this.manualScroller.enable();\r\n          $('.main-menu-content').css('height', $(window).height() - $('.header-navbar').height() - $('.main-menu-header').outerHeight() - $('.main-menu-footer').outerHeight());\r\n          // this.manualScroller.update();\r\n        }\r\n\r\n        if (!$body.hasClass('vertical-overlay-menu')) {\r\n          $('.sidenav-overlay').removeClass('d-block d-none');\r\n          $('body').css('overflow', 'auto');\r\n        }\r\n      });\r\n    },\r\n\r\n    hide: function () {\r\n\r\n      this.transit(function () {\r\n        $body.removeClass('menu-open menu-expanded').addClass('menu-hide');\r\n        this.hidden = true;\r\n        this.expanded = false;\r\n\r\n        if ($body.hasClass('vertical-overlay-menu')) {\r\n          $('.sidenav-overlay').removeClass('d-block').addClass('d-none');\r\n          $('body').css('overflow', 'auto');\r\n        }\r\n      }, function () {\r\n        if (!$('.main-menu').hasClass('menu-native-scroll') && $('.main-menu').hasClass('menu-fixed')) {\r\n          this.manualScroller.enable();\r\n        }\r\n\r\n        if (!$body.hasClass('vertical-overlay-menu')) {\r\n          $('.sidenav-overlay').removeClass('d-block d-none');\r\n          $('body').css('overflow', 'auto');\r\n        }\r\n      });\r\n    },\r\n\r\n    expand: function () {\r\n      if (this.expanded === false) {\r\n        if ($body.data('menu') == 'vertical-menu-modern') {\r\n          $('.modern-nav-toggle').find('.toggle-icon')\r\n            .removeClass('feather icon-toggle-left').addClass('feather icon-toggle-right');\r\n        }\r\n        /*if( $body.data('menu') == 'vertical-menu' || $body.data('menu') == 'vertical-menu-modern'){\r\n          this.changeLogo('expand');\r\n        }*/\r\n        this.transit(function () {\r\n          $body.removeClass('menu-collapsed').addClass('menu-expanded');\r\n          this.collapsed = false;\r\n          this.expanded = true;\r\n\r\n          $('.sidenav-overlay').removeClass('d-block d-none');\r\n        }, function () {\r\n\r\n          if (($('.main-menu').hasClass('menu-native-scroll') || $body.data('menu') == 'horizontal-menu')) {\r\n            this.manualScroller.disable();\r\n          } else {\r\n            if ($('.main-menu').hasClass('menu-fixed'))\r\n              this.manualScroller.enable();\r\n          }\r\n\r\n          if (($body.data('menu') == 'vertical-menu' || $body.data('menu') == 'vertical-menu-modern') && $('.main-menu').hasClass('menu-fixed')) {\r\n            $('.main-menu-content').css('height', $(window).height() - $('.header-navbar').height() - $('.main-menu-header').outerHeight() - $('.main-menu-footer').outerHeight());\r\n            // this.manualScroller.update();\r\n          }\r\n\r\n        });\r\n      }\r\n    },\r\n\r\n    collapse: function (defMenu) {\r\n      if (this.collapsed === false) {\r\n        if ($body.data('menu') == 'vertical-menu-modern') {\r\n          $('.modern-nav-toggle').find('.toggle-icon')\r\n            .removeClass('feather icon-toggle-right').addClass('feather icon-toggle-left');\r\n        }\r\n        /*if( ($body.data('menu') == 'vertical-menu' ) || ($body.data('menu') == 'vertical-menu-modern' ) ){\r\n          this.changeLogo('collapse');\r\n        }*/\r\n        this.transit(function () {\r\n          $body.removeClass('menu-expanded').addClass('menu-collapsed');\r\n          this.collapsed = true;\r\n          this.expanded = false;\r\n\r\n          $('.content-overlay').removeClass('d-block d-none');\r\n        }, function () {\r\n\r\n          if (($body.data('menu') == 'horizontal-menu') && $body.hasClass('vertical-overlay-menu')) {\r\n            if ($('.main-menu').hasClass('menu-fixed'))\r\n              this.manualScroller.enable();\r\n          }\r\n          if (($body.data('menu') == 'vertical-menu' || $body.data('menu') == 'vertical-menu-modern') && $('.main-menu').hasClass('menu-fixed')) {\r\n            $('.main-menu-content').css('height', $(window).height() - $('.header-navbar').height());\r\n            this.manualScroller.enable();\r\n          }\r\n          if ($body.data('menu') == 'vertical-menu-modern') {\r\n            if ($('.main-menu').hasClass('menu-fixed'))\r\n              this.manualScroller.enable();\r\n          }\r\n          /*if( $body.data('menu') == 'vertical-menu-modern' && defMenu === 'collapsed' ){\r\n            var $listItem = $('.main-menu li.open'),\r\n            $subList = $listItem.children('ul');\r\n            $listItem.addClass('menu-collapsed-open');\r\n\r\n            $subList.show().slideUp(200, function() {\r\n                $(this).css('display', '');\r\n            });\r\n\r\n            $listItem.removeClass('open');\r\n            // $.app.menu.changeLogo();\r\n          }*/\r\n        });\r\n      }\r\n    },\r\n\r\n    toOverlayMenu: function (screen, menuType) {\r\n      var menu = $body.data('menu');\r\n      if (menuType == 'vertical-menu-modern') {\r\n        if (screen == 'md' || screen == 'sm' || screen == 'xs') {\r\n          if ($body.hasClass(menu)) {\r\n            $body.removeClass(menu).addClass('vertical-overlay-menu');\r\n          }\r\n        } else {\r\n          if ($body.hasClass('vertical-overlay-menu')) {\r\n            $body.removeClass('vertical-overlay-menu').addClass(menu);\r\n          }\r\n        }\r\n      } else {\r\n        if (screen == 'sm' || screen == 'xs') {\r\n          if ($body.hasClass(menu)) {\r\n            $body.removeClass(menu).addClass('vertical-overlay-menu');\r\n          }\r\n        } else {\r\n          if ($body.hasClass('vertical-overlay-menu')) {\r\n            $body.removeClass('vertical-overlay-menu').addClass(menu);\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    changeMenu: function (screen) {\r\n      // Replace menu html\r\n      $('div[data-menu=\"menu-wrapper\"]').html('');\r\n      $('div[data-menu=\"menu-wrapper\"]').html(menuWrapper_el);\r\n\r\n      var menuWrapper = $('div[data-menu=\"menu-wrapper\"]'),\r\n        menuContainer = $('div[data-menu=\"menu-container\"]'),\r\n        menuNavigation = $('ul[data-menu=\"menu-navigation\"]'),\r\n        megaMenu = $('li[data-menu=\"megamenu\"]'),\r\n        megaMenuCol = $('li[data-mega-col]'),\r\n        dropdownMenu = $('li[data-menu=\"dropdown\"]'),\r\n        dropdownSubMenu = $('li[data-menu=\"dropdown-submenu\"]');\r\n\r\n      if (screen == 'xl') {\r\n        // Change body classes\r\n        $body.removeClass('vertical-layout vertical-overlay-menu fixed-navbar').addClass($body.data('menu'));\r\n\r\n        // Remove navbar-fix-top class on large screens\r\n        $('nav.header-navbar').removeClass('fixed-top');\r\n\r\n        // Change menu wrapper, menu container, menu navigation classes\r\n        menuWrapper.removeClass().addClass(menuWrapperClasses);\r\n\r\n        // Intitialize drill down menu for horizontal layouts\r\n        // --------------------------------------------------\r\n        this.drillDownMenu(screen);\r\n\r\n        $('a.dropdown-item.nav-has-children').on('click', function () {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        });\r\n        $('a.dropdown-item.nav-has-parent').on('click', function () {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        });\r\n        \r\n      } else {\r\n\r\n        // Change body classes\r\n        $body.removeClass($body.data('menu')).addClass('vertical-layout vertical-overlay-menu fixed-navbar');\r\n\r\n        // Add navbar-fix-top class on small screens\r\n        $('nav.header-navbar').addClass('fixed-top');\r\n\r\n        // Change menu wrapper, menu container, menu navigation classes\r\n        menuWrapper.removeClass().addClass('main-menu menu-light menu-fixed menu-shadow');\r\n        // menuContainer.removeClass().addClass('main-menu-content');\r\n        menuNavigation.removeClass().addClass('navigation navigation-main');\r\n\r\n        // If Mega Menu\r\n        megaMenu.removeClass('dropdown mega-dropdown').addClass('has-sub');\r\n        megaMenu.children('ul').removeClass();\r\n        megaMenuCol.each(function (index, el) {\r\n\r\n          // Remove drilldown-menu and menu list\r\n          var megaMenuSub = $(el).find('.mega-menu-sub');\r\n          megaMenuSub.find('li').has('ul').addClass('has-sub');\r\n\r\n          // if mega menu title is given, remove title and make it list item with mega menu title's text\r\n          var first_child = $(el).children().first(),\r\n            first_child_text = '';\r\n\r\n          if (first_child.is('h6')) {\r\n            first_child_text = first_child.html();\r\n            first_child.remove();\r\n            $(el).prepend('<a href=\"#\">' + first_child_text + '</a>').addClass('has-sub mega-menu-title');\r\n          }\r\n        });\r\n        megaMenu.find('a').removeClass('dropdown-toggle');\r\n        megaMenu.find('a').removeClass('dropdown-item');\r\n\r\n        // If Dropdown Menu\r\n        dropdownMenu.removeClass('dropdown').addClass('has-sub');\r\n        dropdownMenu.find('a').removeClass('dropdown-toggle nav-link');\r\n        dropdownMenu.children('ul').find('a').removeClass('dropdown-item');\r\n        dropdownMenu.find('ul').removeClass('dropdown-menu');\r\n        dropdownSubMenu.removeClass().addClass('has-sub');\r\n\r\n        $.app.nav.init();\r\n\r\n        // Dropdown submenu on small screen on click\r\n        // --------------------------------------------------\r\n        $('ul.dropdown-menu [data-toggle=dropdown]').on('click', function (event) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          $(this).parent().siblings().removeClass('open');\r\n          $(this).parent().toggleClass('open');\r\n        });\r\n      }\r\n    },\r\n\r\n    toggle: function () {\r\n      var currentBreakpoint = Unison.fetch.now(); // Current Breakpoint\r\n      var collapsed = this.collapsed;\r\n      var expanded = this.expanded;\r\n      var hidden = this.hidden;\r\n      var menu = $body.data('menu');\r\n\r\n      switch (currentBreakpoint.name) {\r\n        case 'xl':\r\n          if (expanded === true) {\r\n            if (menu == 'vertical-overlay-menu') {\r\n              this.hide();\r\n            } else {\r\n              this.collapse();\r\n            }\r\n          } else {\r\n            if (menu == 'vertical-overlay-menu') {\r\n              this.open();\r\n            } else {\r\n              this.expand();\r\n            }\r\n          }\r\n          break;\r\n        case 'lg':\r\n          if (expanded === true) {\r\n            if (menu == 'vertical-overlay-menu' || menu == 'horizontal-menu') {\r\n              this.hide();\r\n            } else {\r\n              this.collapse();\r\n            }\r\n          } else {\r\n            if (menu == 'vertical-overlay-menu' || menu == 'horizontal-menu') {\r\n              this.open();\r\n            } else {\r\n              this.expand();\r\n            }\r\n          }\r\n          break;\r\n        case 'md':\r\n          if (expanded === true) {\r\n            if (menu == 'vertical-overlay-menu' || menu == 'vertical-menu-modern' || menu == 'horizontal-menu') {\r\n              this.hide();\r\n            } else {\r\n              this.collapse();\r\n            }\r\n          } else {\r\n            if (menu == 'vertical-overlay-menu' || menu == 'vertical-menu-modern' || menu == 'horizontal-menu') {\r\n              this.open();\r\n            } else {\r\n              this.expand();\r\n            }\r\n          }\r\n          break;\r\n        case 'sm':\r\n          if (hidden === true) {\r\n            this.open();\r\n          } else {\r\n            this.hide();\r\n          }\r\n          break;\r\n        case 'xs':\r\n          if (hidden === true) {\r\n            this.open();\r\n          } else {\r\n            this.hide();\r\n          }\r\n          break;\r\n      }\r\n\r\n      // Re-init sliding menu to update width\r\n      this.drillDownMenu(currentBreakpoint.name);\r\n    },\r\n\r\n    update: function () {\r\n      this.manualScroller.update();\r\n    },\r\n\r\n    reset: function () {\r\n      this.expanded = false;\r\n      this.collapsed = false;\r\n      this.hidden = false;\r\n      $body.removeClass('menu-hide menu-open menu-collapsed menu-expanded');\r\n    },\r\n  };\r\n\r\n  // Navigation Menu\r\n  $.app.nav = {\r\n    container: $('.navigation-main'),\r\n    initialized: false,\r\n    navItem: $('.navigation-main').find('li').not('.navigation-category'),\r\n\r\n    config: {\r\n      speed: 300,\r\n    },\r\n\r\n    init: function (config) {\r\n      this.initialized = true; // Set to true when initialized\r\n      $.extend(this.config, config);\r\n\r\n      this.bind_events();\r\n    },\r\n\r\n    bind_events: function () {\r\n      var menuObj = this;\r\n\r\n      $('.navigation-main').on('mouseenter.app.menu', 'li', function () {\r\n        var $this = $(this);\r\n        $('.hover', '.navigation-main').removeClass('hover');\r\n        if ($body.hasClass('menu-collapsed') && $body.data('menu') != 'vertical-menu-modern') {\r\n          $('.main-menu-content').children('span.menu-title').remove();\r\n          $('.main-menu-content').children('a.menu-title').remove();\r\n          $('.main-menu-content').children('ul.menu-content').remove();\r\n\r\n          // Title\r\n          var menuTitle = $this.find('span.menu-title').clone(),\r\n            tempTitle,\r\n            tempLink;\r\n          if (!$this.hasClass('has-sub')) {\r\n            tempTitle = $this.find('span.menu-title').text();\r\n            tempLink = $this.children('a').attr('href');\r\n            if (tempTitle !== '') {\r\n              menuTitle = $(\"<a>\");\r\n              menuTitle.attr(\"href\", tempLink);\r\n              menuTitle.attr(\"title\", tempTitle);\r\n              menuTitle.text(tempTitle);\r\n              menuTitle.addClass(\"menu-title\");\r\n            }\r\n          }\r\n          // menu_header_height = ($('.main-menu-header').length) ? $('.main-menu-header').height() : 0,\r\n          // fromTop = menu_header_height + $this.position().top + parseInt($this.css( \"border-top\" ),10);\r\n          var fromTop;\r\n          if ($this.css(\"border-top\")) {\r\n            fromTop = $this.position().top + parseInt($this.css(\"border-top\"), 10);\r\n          } else {\r\n            fromTop = $this.position().top;\r\n          }\r\n          if ($body.data('menu') !== 'vertical-compact-menu') {\r\n            menuTitle.appendTo('.main-menu-content').css({\r\n              position: 'fixed',\r\n              top: fromTop,\r\n            });\r\n          }\r\n\r\n          // Content\r\n          if ($this.hasClass('has-sub') && $this.hasClass('nav-item')) {\r\n            var menuContent = $this.children('ul:first');\r\n            menuObj.adjustSubmenu($this);\r\n          }\r\n        }\r\n        $this.addClass('hover');\r\n      }).on('mouseleave.app.menu', 'li', function () {\r\n        // $(this).removeClass('hover');\r\n      }).on('active.app.menu', 'li', function (e) {\r\n        $(this).addClass('active');\r\n        e.stopPropagation();\r\n      }).on('deactive.app.menu', 'li.active', function (e) {\r\n        $(this).removeClass('active');\r\n        e.stopPropagation();\r\n      }).on('open.app.menu', 'li', function (e) {\r\n\r\n        var $listItem = $(this);\r\n        $listItem.addClass('open');\r\n\r\n        menuObj.expand($listItem);\r\n\r\n        // If menu collapsible then do not take any action\r\n        if ($('.main-menu').hasClass('menu-collapsible')) {\r\n          return false;\r\n        }\r\n        // If menu accordion then close all except clicked once\r\n        else {\r\n          $listItem.siblings('.open').find('li.open').trigger('close.app.menu');\r\n          $listItem.siblings('.open').trigger('close.app.menu');\r\n        }\r\n\r\n        e.stopPropagation();\r\n      }).on('close.app.menu', 'li.open', function (e) {\r\n        var $listItem = $(this);\r\n\r\n        $listItem.removeClass('open');\r\n        menuObj.collapse($listItem);\r\n\r\n        e.stopPropagation();\r\n      }).on('click.app.menu', 'li', function (e) {\r\n        var $listItem = $(this);\r\n        if ($listItem.is('.disabled')) {\r\n          e.preventDefault();\r\n        } else {\r\n          if ($body.hasClass('menu-collapsed') && $body.data('menu') != 'vertical-menu-modern') {\r\n            e.preventDefault();\r\n          } else {\r\n            if ($listItem.has('ul')) {\r\n              if ($listItem.is('.open')) {\r\n                $listItem.trigger('close.app.menu');\r\n              } else {\r\n                $listItem.trigger('open.app.menu');\r\n              }\r\n            } else {\r\n              if (!$listItem.is('.active')) {\r\n                $listItem.siblings('.active').trigger('deactive.app.menu');\r\n                $listItem.trigger('active.app.menu');\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        e.stopPropagation();\r\n      });\r\n\r\n\r\n      $('.navbar-header, .main-menu').on('mouseenter', modernMenuExpand).on('mouseleave', modernMenuCollapse);\r\n\r\n      function modernMenuExpand() {\r\n        if ($body.data('menu') == 'vertical-menu-modern') {\r\n          $('.main-menu, .navbar-header').addClass('expanded');\r\n          if ($body.hasClass('menu-collapsed')) {\r\n            var $listItem = $('.main-menu li.menu-collapsed-open'),\r\n              $subList = $listItem.children('ul');\r\n\r\n            $subList.hide().slideDown(200, function () {\r\n              $(this).css('display', '');\r\n            });\r\n\r\n            $listItem.addClass('open').removeClass('menu-collapsed-open');\r\n            // $.app.menu.changeLogo('expand');\r\n          }\r\n        }\r\n      }\r\n\r\n      function modernMenuCollapse() {\r\n        if ($body.hasClass('menu-collapsed') && $body.data('menu') == 'vertical-menu-modern') {\r\n          setTimeout(function () {\r\n            if ($('.main-menu:hover').length === 0 && $('.navbar-header:hover').length === 0) {\r\n\r\n              $('.main-menu, .navbar-header').removeClass('expanded');\r\n              if ($body.hasClass('menu-collapsed')) {\r\n                var $listItem = $('.main-menu li.open'),\r\n                  $subList = $listItem.children('ul');\r\n                $listItem.addClass('menu-collapsed-open');\r\n\r\n                $subList.show().slideUp(200, function () {\r\n                  $(this).css('display', '');\r\n                });\r\n\r\n                $listItem.removeClass('open');\r\n                // $.app.menu.changeLogo();\r\n              }\r\n            }\r\n          }, 1);\r\n        }\r\n      }\r\n\r\n      $('.main-menu-content').on('mouseleave', function () {\r\n        if ($body.hasClass('menu-collapsed')) {\r\n          $('.main-menu-content').children('span.menu-title').remove();\r\n          $('.main-menu-content').children('a.menu-title').remove();\r\n          $('.main-menu-content').children('ul.menu-content').remove();\r\n        }\r\n        $('.hover', '.navigation-main').removeClass('hover');\r\n      });\r\n\r\n      // If list item has sub menu items then prevent redirection.\r\n      $('.navigation-main li.has-sub > a').on('click', function (e) {\r\n        e.preventDefault();\r\n      });\r\n\r\n      $('ul.menu-content').on('click', 'li', function (e) {\r\n        var $listItem = $(this);\r\n        if ($listItem.is('.disabled')) {\r\n          e.preventDefault();\r\n        } else {\r\n          if ($listItem.has('ul')) {\r\n            if ($listItem.is('.open')) {\r\n              $listItem.removeClass('open');\r\n              menuObj.collapse($listItem);\r\n            } else {\r\n              $listItem.addClass('open');\r\n\r\n              menuObj.expand($listItem);\r\n\r\n              // If menu collapsible then do not take any action\r\n              if ($('.main-menu').hasClass('menu-collapsible')) {\r\n                return false;\r\n              }\r\n              // If menu accordion then close all except clicked once\r\n              else {\r\n                $listItem.siblings('.open').find('li.open').trigger('close.app.menu');\r\n                $listItem.siblings('.open').trigger('close.app.menu');\r\n              }\r\n\r\n              e.stopPropagation();\r\n            }\r\n          } else {\r\n            if (!$listItem.is('.active')) {\r\n              $listItem.siblings('.active').trigger('deactive.app.menu');\r\n              $listItem.trigger('active.app.menu');\r\n            }\r\n          }\r\n        }\r\n\r\n        e.stopPropagation();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Ensure an admin submenu is within the visual viewport.\r\n     * @param {jQuery} $menuItem The parent menu item containing the submenu.\r\n     */\r\n    adjustSubmenu: function ($menuItem) {\r\n      var menuHeaderHeight, menutop, topPos, winHeight,\r\n        bottomOffset, subMenuHeight, popOutMenuHeight, borderWidth, scroll_theme,\r\n        $submenu = $menuItem.children('ul:first'),\r\n        ul = $submenu.clone(true);\r\n\r\n      menuHeaderHeight = $('.main-menu-header').height();\r\n      menutop = $menuItem.position().top;\r\n      winHeight = $window.height() - $('.header-navbar').height();\r\n      borderWidth = 0;\r\n      subMenuHeight = $submenu.height();\r\n\r\n      if (parseInt($menuItem.css(\"border-top\"), 10) > 0) {\r\n        borderWidth = parseInt($menuItem.css(\"border-top\"), 10);\r\n      }\r\n\r\n      popOutMenuHeight = winHeight - menutop - $menuItem.height() - 30;\r\n      scroll_theme = ($('.main-menu').hasClass('menu-dark')) ? 'light' : 'dark';\r\n\r\n      topPos = menutop + $menuItem.height() + borderWidth;\r\n\r\n      ul.addClass('menu-popout').appendTo('.main-menu-content').css({\r\n        'top': topPos,\r\n        'position': 'fixed',\r\n        'max-height': popOutMenuHeight,\r\n      });\r\n\r\n      var menu_content = new PerfectScrollbar('.main-menu-content > ul.menu-content');\r\n    },\r\n\r\n    collapse: function ($listItem, callback) {\r\n      var $subList = $listItem.children('ul');\r\n\r\n      $listItem.addClass('changing');\r\n      $subList.show().slideUp($.app.nav.config.speed, function () {\r\n\r\n        $(this).css('display', '');\r\n\r\n        $(this).find('> li').removeClass('is-shown');\r\n\r\n        if (callback) {\r\n          callback();\r\n        }\r\n\r\n        $.app.nav.container.trigger('collapsed.app.menu');\r\n        $listItem.removeClass('changing');\r\n\r\n      });\r\n\r\n    },\r\n\r\n    expand: function ($listItem, callback) {\r\n      var $subList = $listItem.children('ul');\r\n      var $children = $subList.children('li').addClass('is-hidden');\r\n\r\n      $subList.hide().slideDown($.app.nav.config.speed, function () {\r\n        $(this).css('display', '');\r\n\r\n        if (callback) {\r\n          callback();\r\n        }\r\n\r\n        $.app.nav.container.trigger('expanded.app.menu');\r\n      });\r\n\r\n      setTimeout(function () {\r\n        $children.addClass('is-shown');\r\n        $children.removeClass('is-hidden');\r\n      }, 0);\r\n    },\r\n\r\n    refresh: function () {\r\n      $.app.nav.container.find('.open').removeClass('open');\r\n    },\r\n  };\r\n\r\n})(window, document, jQuery);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}